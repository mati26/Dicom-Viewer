<!DOCTYPE html>
<html ng-app="DicomViewer">
    <head>
        <meta charset="UTF-8">
        <title>Przeglądarka Dicom</title>

        <link href="style.css" rel="stylesheet">

        <!-- cornerstone depends on jQuery so it must be loaded first-->
        <script src="bower_components/jquery/dist/jquery.min.js"></script>
        <script src="bower_components/angular/angular.min.js"></script>

        <!-- include the cornerstone library -->
        <script src="bower_components/cornerstone/dist/cornerstone.js"></script>
        <script src="bower_components/cornerstoneMath/dist/cornerstoneMath.js"></script>  
        <script src="bower_components/cornerstoneTools/dist/cornerstoneTools.js"></script>

        <script src="bower_components/dicomParser/dist/dicomParser.min.js"></script>  
        <script src="bower_components/image-jpeg2000/dist/jpx.min.js"></script>

        <script src="bower_components/cornerstoneWADOImageLoader/dist/cornerstoneWADOImageLoader.js"></script>  
        <script src="bower_components/jquery-ui/jquery-ui.min.js"></script> 
        <link rel="stylesheet" href="bower_components/jquery-ui/themes/smoothness/jquery-ui.css">
        <script src="ViewerScript.js"></script>
        <script src="imageTools.js"></script>





    </head>



    <h1>
        Przeglądarka Dicom
    </h1>
    <div class="menu" ng-controller="ImageOptionsController">


        <input type="file" name="upload" id="selectFile" multiple="multiple"/>


        <button type="button" class="button" ng-click="zoomIn()">Powiększ</button>
        <button type="button" class="button" ng-click="zoomOut()">Pomniejsz</button>
        <button type="button" class="button" ng-click="lRotate()">Obróć w lewo</button>
        <button type="button" class="button" ng-click="rRotate()">Obróć w prawo</button>
        <button type="button" class="button" ng-click="hFlip()">Odbij poziomo</button>
        <button type="button" class="button" ng-click="vFlip()">Odbij pionowo</button>
        <button type="button" class="button" ng-click="invert()">Odwróć</button>
        <button type="button" class="button" ng-click="defaultViewport()">Domyślny</button>


        <br/>
    </div>

    <div class ="col-3">

        <div><span id="pixCoords"></span></div>
        <br/>
        <label for="amount">Min - max:</label>
        <input type="text" name="myInput" id="amount" readonly style="border:0;">
        <div id="slider-range"></div>


        <br/>

        Korekcja gamma:
        <br/>
        <input type="range" id="gammaRange" min="0" max="2" step="0.1"/>
        <span id="gammaValue"></span>
        <br/>

        <div id="stackDiv">
            Stack:
            <br/>
            <input type="range" id="stackRange" min="0" step="1" value="0"/>
            <span id="stackNum"/>
        </div>
        <br/>
        Zapisz:
        <input id="filename" type="text"/>
        <button type="button" class="button" id="save">Zapisz</button>
        <br/>
        Narzędzie:
        </br>
        <div class="tools" ng-controller="ToolsController">
            <a class="linkButton" ng-click="noTool()" ng-class="{active: enabledTool === 'noTool'}">Brak Narzędzia</a>
            <a class="linkButton" ng-click="length()" ng-class="{active: enabledTool === 'length'}">Odległość</a>
            <a class="linkButton" ng-click="angle()" ng-class="{active: enabledTool === 'angle'}">Kąt</a>
            <a class="linkButton" ng-click="rectangleROI()" ng-class="{active: enabledTool === 'rectangleROI'}">Prostokąt</a>
            <a class="linkButton" ng-click="label()" ng-class="{active: enabledTool === 'label'}">Etykieta</a>
        </div>
        <br/><br/>

        <div id="dicomMini" style="width:128px;height:128px;"></div>
        <br/><br/>
        <!--<<div><span id="dicomSize"></span></div>
        div><span id="dicomMiniSize"></span></div>
        
        <div><span id="globalCounter"></span></div
        <div><span id="coords"></span></div>
        <br/>>-->

        <!-- <div><span id="zoomcoord"></span></div>
        <div><span id="canvasBig"></span></div> 
        
        <br/><br/>
        <div><span id="trans"></span></div>
        <br/>
        <br/>
        Testowe coordinates:
        <br/>
        <div><span id="testCoords"></span></div>
        <br/>
        <div><span id="elRect"></span></div>-->
    </div>
    <div class ="col-6">
        <div class="container">


            <div id="dicomImage" style="width:512px;height:512px;">
            </div>

        </div>
    </div>
    <div class ="col-3">


        <input class="form-control" type="text" id="wadoURL" placeholder="Wpisz WADO URL" />
        <br/>
        <button type="button" class="button" id="download">Ściągnij z serwera</button>
        <br/>
        <div class="metadata">
            <h4>Dane pacjenta</h4> 
            Imię i nazwisko: <span class="meta" data-dicom="x00100010"></span> 
            <br/>
            ID: <span class="meta" data-dicom="x00100020"></span> 
            <br/>
            Data urodzenia: <span class="meta" data-dicom="x00100030"></span>
            <br/>
            Płeć: <span class="meta" data-dicom="x00100040"></span>
            <br/>
            Wzrost: <span class="meta" data-dicom="x00101020"></span>
            <br/>
            Waga: <span class="meta" data-dicom="x00101030"></span>
            <br/><br/>

            Lekarz: <span class="meta" data-dicom="x00321032"></span>
            <br/>
            Typ badania: <span class="meta" data-dicom="x00080060"></span>
            <br/>
            Zlecone badanie: <span class="meta" data-dicom="x00321060"></span>
            <br/><br/>

            Opis: <span class="meta" data-dicom="x00081030"></span>
            <br/>
            Data: <span class="meta" data-dicom="x00080020"></span>
            <br/>

            Opis serii: <span class="meta" data-dicom="x0008103e"></span>
            <br/><br/>

            Badanie przeprowadzał: <span class="meta" data-dicom="x00081070"></span> 
            <br/>
            Producent urządzenia: <span class="meta" data-dicom="x00080070"></span>
            <br/>
            Model: <span class="meta" data-dicom="x00081090"></span>
            <br/>
            <span id="numOfFrames"  data-dicom="x00280008"></span>

        </div>
    </div>

</body>
</html>
